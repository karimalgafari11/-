{
  "meta": {
    "project": "Alzhra Accounting System",
    "date": "2026-01-15",
    "prepared_by": "Software Development Manager"
  },
  "product_overview": "Alzhra Accounting System is a professional web-based accounting solution designed for small and medium-sized businesses. It emphasizes financial accuracy, auditability, and strict adherence to Double-Entry Accounting principles using a Clean Architecture approach to achieve deterministic and testable business logic.",
  "core_goals": [
    "Guarantee financial correctness and audit safety",
    "Enforce strict separation of concerns following Clean Architecture",
    "Support scalable operations in accounting, sales, purchases, and inventory management",
    "Enable future expansion such as AI integration, mobile applications, and API availability",
    "Provide a clean, fast, and reliable user experience"
  ],
  "key_features": [
    "Double-Entry Ledger System enforcing balanced journals and immutable postings",
    "Comprehensive chart of accounts with trial balance validation",
    "Sales management including invoicing, tax handling, and customer balances",
    "Purchase management with supplier handling, purchase orders, and landed cost calculations",
    "Inventory management supporting stock tracking, weighted average costing, and COGS calculations",
    "Finance and analytics including multi-currency support, financial summaries, and dashboard KPIs",
    "Role-based user authentication and security measures",
    "Full audit trail ensuring traceability of all financial records",
    "High performance and deterministic financial calculations even with large datasets"
  ],
  "user_flow_summary": [
    "User logs into the system with role-based access controls",
    "Dashboard provides a financial overview with key performance indicators",
    "Users enter transactions related to sales, purchases, and expenses via dedicated pages",
    "Automatic posting of double-entry journals occurs behind the scenes maintaining ledger integrity",
    "Inventory and stock levels update accordingly with each relevant transaction",
    "Users generate reports and financial statements from the finance domain modules",
    "Configuration and settings are adjusted as needed by authorized personnel"
  ],
  "validation_criteria": [
    "All financial transactions must balance debits and credits precisely",
    "Journals once posted must be immutable and fully traceable",
    "Inventory valuation must reconcile with accounting records without negative stock unless explicitly allowed",
    "Tax and multi-currency calculations must be consistent, explicit, and comply with documented rounding rules",
    "Unit tests must cover all domain business logics including journal balancing, inventory, tax, and currency calculations",
    "System performance should sustain large datasets efficiently without errors",
    "Security controls must protect data isolation per company and user role permissions"
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React",
      "Vite",
      "Supabase",
      "LocalStorage"
    ],
    "features": [
      {
        "name": "Accounting Core",
        "description": "Double-entry ledger system, chart of accounts, and financial statement generation based on Clean Architecture.",
        "files": [
          "src/domain/accounting",
          "services/accountingService.ts",
          "services/autoJournalService.ts",
          "pages/Accounting.tsx",
          "pages/Vouchers.tsx"
        ]
      },
      {
        "name": "Sales Management",
        "description": "Invoicing, point of sale (POS), customer management, and profit margin analysis.",
        "files": [
          "src/domain/sales",
          "services/salesService.ts",
          "services/customerService.ts",
          "pages/Sales.tsx",
          "pages/Customers.tsx",
          "pages/Invoices.tsx",
          "pages/POS.tsx"
        ]
      },
      {
        "name": "Purchase Management",
        "description": "Supplier management, purchase orders, and landed cost calculations.",
        "files": [
          "src/domain/purchases",
          "services/suppliersService.ts",
          "pages/Purchases.tsx",
          "pages/Suppliers.tsx"
        ]
      },
      {
        "name": "Inventory Management",
        "description": "Stock tracking, weighted average costing, and COGS calculations.",
        "files": [
          "src/domain/inventory",
          "services/productService.ts",
          "pages/Inventory.tsx"
        ]
      },
      {
        "name": "Finance & Analytics",
        "description": "Financial summaries, simplified tax handling, and dashboard analytics.",
        "files": [
          "src/domain/finance",
          "services/financeService.ts",
          "pages/Dashboard.tsx",
          "pages/Reports.tsx"
        ]
      },
      {
        "name": "Auth & Security",
        "description": "User authentication and role-based permissions.",
        "files": [
          "pages/LoginPage.tsx",
          "services/authService.ts",
          "services/permissionsService.ts"
        ]
      }
    ]
  }
}
